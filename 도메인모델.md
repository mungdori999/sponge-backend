# Sponge 도메인 모델

## 도메인 모델 만들기

1. 듣고 배우기
2. '중요한 것'들 찾기 (개념 식별)
3. '연결 고리' 찾기 (관계 정의)
4. '것'들을 설명하기 (속성 및 기본 행위 명시)
5. 그려보기 (시각화)
6. 이야기 하고 다듬기 (반복)
7.

## 도메인 모델

---

### [반려인 애그리거트]

### 반려인(Owner)

_Aggregate Root_

#### 속성

- `id`: `Long`
- `email`: 이메일 - Natural ID
- `name`: 이름
- `passwordHash`: 비밀번호 해시
- `status`: `MemberStatus` 유저 상태

#### 행위

- `static register()`: 반려인 등록: email, name, password, passwordEncoder
- `activate()`: 등록을 완료시킨다
- `deactivate()`: 탈퇴시킨다
- `verifyPassword()` : 비밀번호를 검증한다
- `changePassword()`
- `updateInfo()`: 반려인의 정보 수정. 반려인의 이름, 주소를 수정하다

#### 규칙

- 반려인 생성후 상태는 등록 대기
- 일정조건을 만족하면 등록 완료가 된다
- 등록 대기 상태에서만 등록 완료가 될 수 있다
- 등록 완료 상태에서는 탈퇴할 수 있다
- 등록 완료 상태에서만 유저 정보를 수정할 수 있다
- 반려인의 비밀번호는 해시를 만들어서 저장한다

### 회원 상태(UserStatus)

_Enum_

#### 상수

- `PENDING`: 등록 대기
- `ACTIVE`: 등록 완료
- `DEACTIVATED`: 탈퇴

### DuplicateEmailException

_Exception_

### 비밀번호 인코더(PasswordEncoder)

_Domain Service_

#### 행위

- `encode()`: 비밀번호 암호화하기
- `matches()`: 비밀번호가 일치하는지 확인

### 프로필 주소(Profile)

_Value Object_

#### 속성

- `address`: 프로필 주소

---

### Email

_Value Object_

#### 속성

- `address`: 이메일 주소

---

### 훈련사

